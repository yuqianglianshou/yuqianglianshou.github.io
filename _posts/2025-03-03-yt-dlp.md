---
layout: post  
title: å„å¤§ç½‘ç«™è§†é¢‘ä¸‹è½½ï¼šyt-dlp çš„ä½¿ç”¨
date: 2025-03-03  
tags:  æŠ€æœ¯
---

### æœ‰äº†ä¸€é˜µé£ï¼Œä»–ä¾¿æ´»äº†ã€‚
<br/> 
<br/> 


# **å„å¤§ç½‘ç«™è§†é¢‘ä¸‹è½½**

---

## **0ã€å¿«é€Ÿä½¿ç”¨**

### **ç¡®ä¿pythonç¯å¢ƒ  ffmpeg ç¯å¢ƒ **

ä½¿ç”¨pipå®‰è£…ï¼Œwindows å’Œ mac éƒ½å¯ä»¥
```sh
pip install yt-dlp
yt-dlp --version
yt-dlp <è§†é¢‘URL>

```


# yt-dlp è¯¦ç»†ä»‹ç»

`yt-dlp` æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„å¼€æºå‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨äºä¸‹è½½ YouTube åŠå…¶ä»–ç½‘ç«™çš„è§†é¢‘å’ŒéŸ³é¢‘ã€‚å®ƒæ˜¯ `youtube-dl` çš„å¢å¼ºç‰ˆï¼Œæ”¯æŒæ›´å¤šçš„ç½‘ç«™ã€æ›´é«˜æ•ˆçš„ä¸‹è½½ã€æ‰¹é‡å¤„ç†ã€å­—å¹•ä¸‹è½½ç­‰åŠŸèƒ½ï¼Œå¹¶ä¸”ç»´æŠ¤æ›´ä¸ºæ´»è·ƒã€‚

---

## **1. å®‰è£… yt-dlp**

### **Windows**
1. ä¸‹è½½ `yt-dlp.exe`
   - è®¿é—® [å®˜æ–¹ GitHub](https://github.com/yt-dlp/yt-dlp/releases/latest) é¡µé¢ï¼Œä¸‹è½½æœ€æ–°çš„ `yt-dlp.exe`ã€‚
   - å°† `yt-dlp.exe` ç§»åŠ¨åˆ° `C:\Windows\System32` ç›®å½•ï¼Œæ–¹ä¾¿åœ¨å‘½ä»¤è¡Œä¸­éšæ—¶è°ƒç”¨ã€‚

2. ç›´æ¥ä½¿ç”¨ `cmd` è¿è¡Œï¼š
   ```sh
   yt-dlp --version
   ```

3. **å¯é€‰ï¼šå®‰è£… ffmpegï¼ˆç”¨äºæ›´å¥½çš„æ ¼å¼è½¬æ¢ï¼‰**
   - è®¿é—® [FFmpeg å®˜ç½‘](https://ffmpeg.org/download.html)ï¼Œä¸‹è½½ `ffmpeg`ã€‚
   - è§£å‹åï¼Œå°† `ffmpeg.exe` æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­ï¼Œä»¥ä¾¿ `yt-dlp` è‡ªåŠ¨è°ƒç”¨ã€‚

---

### **macOS**
1. **ä½¿ç”¨ Homebrew å®‰è£…**
   ```sh
   brew install yt-dlp
   ```

2. **æ£€æŸ¥å®‰è£…æ˜¯å¦æˆåŠŸ**
   ```sh
   yt-dlp --version
   ```

3. **æˆ–è€…ä¸‹è½½ç‹¬ç«‹å¯æ‰§è¡Œæ–‡ä»¶**
   - è®¿é—® [GitHub Releases](https://github.com/yt-dlp/yt-dlp/releases/latest)ï¼Œä¸‹è½½ `yt-dlp_macos.zip`ã€‚
   - è§£å‹åèµ‹äºˆæ‰§è¡Œæƒé™ï¼š
     ```sh
     chmod +x yt-dlp_macos
     ```
   - è¿è¡Œï¼š
     ```sh
     ./yt-dlp_macos --version
     ```

---

### **Linux**
1. **ä½¿ç”¨ `pip` å®‰è£…**
   ```sh
   pip install -U yt-dlp
   ```

2. **æˆ–è€…ä½¿ç”¨ wget/curl**
   ```sh
   sudo wget -O /usr/local/bin/yt-dlp https://github.com/yt-dlp/yt-dlp/releases/latest/download/yt-dlp
   sudo chmod a+rx /usr/local/bin/yt-dlp
   ```

---

## **2. åŸºæœ¬ç”¨æ³•**

### **ä¸‹è½½ YouTube è§†é¢‘**
```sh
yt-dlp "https://www.youtube.com/watch?v=VIDEO_ID"
```
- é»˜è®¤ä¸‹è½½æœ€é«˜è´¨é‡çš„è§†é¢‘å’ŒéŸ³é¢‘åˆå¹¶ç‰ˆæœ¬ã€‚

### **ä¸‹è½½ç‰¹å®šæ ¼å¼**
```sh
yt-dlp -f "bestvideo+bestaudio" "https://www.youtube.com/watch?v=VIDEO_ID"
```
- `-f "bestvideo+bestaudio"`ï¼šä¸‹è½½æœ€é«˜è´¨é‡çš„è§†é¢‘å’ŒéŸ³é¢‘å¹¶è‡ªåŠ¨åˆå¹¶ã€‚

### **åªä¸‹è½½éŸ³é¢‘**
```sh
yt-dlp -f "bestaudio" --extract-audio --audio-format mp3 "https://www.youtube.com/watch?v=VIDEO_ID"
```
- `--extract-audio`ï¼šæå–éŸ³é¢‘  
- `--audio-format mp3`ï¼šè½¬æ¢æˆ MP3 æ ¼å¼

### **ä¸‹è½½ YouTube æ’­æ”¾åˆ—è¡¨**
```sh
yt-dlp -f "best" --yes-playlist "https://www.youtube.com/playlist?list=PLAYLIST_ID"
```
- `--yes-playlist`ï¼šç¡®è®¤ä¸‹è½½æ•´ä¸ªæ’­æ”¾åˆ—è¡¨

---

## **3. é«˜çº§åŠŸèƒ½**

### **æŒ‡å®šæ–‡ä»¶å**
```sh
yt-dlp -o "%(title)s.%(ext)s" "https://www.youtube.com/watch?v=VIDEO_ID"
```
- `%(title)s`ï¼šä½¿ç”¨è§†é¢‘æ ‡é¢˜ä½œä¸ºæ–‡ä»¶å

### **ä¸‹è½½å¸¦å­—å¹•çš„è§†é¢‘**
```sh
yt-dlp --write-subs --sub-lang en "https://www.youtube.com/watch?v=VIDEO_ID"
```
- `--write-subs`ï¼šä¸‹è½½å­—å¹•  
- `--sub-lang en`ï¼šä¸‹è½½è‹±æ–‡å­—å¹•ï¼ˆå¯æ¢æˆ `zh-Hans` ä¸‹è½½ä¸­æ–‡å­—å¹•ï¼‰

### **é™åˆ¶æ–‡ä»¶å¤§å°**
```sh
yt-dlp -f "best[filesize<100M]" "https://www.youtube.com/watch?v=VIDEO_ID"
```
- åªä¸‹è½½å°äº 100MB çš„æœ€ä½³æ ¼å¼

### **è·³è¿‡å·²ä¸‹è½½çš„æ–‡ä»¶**
```sh
yt-dlp -ic "https://www.youtube.com/watch?v=VIDEO_ID"
```
- `-i`ï¼šå¿½ç•¥é”™è¯¯  
- `-c`ï¼šæ–­ç‚¹ç»­ä¼ ï¼ˆå¦‚æœä¹‹å‰ä¸‹è½½å¤±è´¥ï¼‰

---

## **4. ç»“åˆ FFmpeg è¿›è¡Œè§†é¢‘åˆå¹¶**

å¦‚æœè§†é¢‘å’ŒéŸ³é¢‘æ˜¯åˆ†å¼€ä¸‹è½½çš„ï¼ˆYouTube ä¸Šå¾ˆå¤š 1080p ä»¥ä¸Šçš„è§†é¢‘æ˜¯è¿™æ ·ï¼‰ï¼Œä½ å¯ä»¥ä½¿ç”¨ `FFmpeg` è‡ªåŠ¨åˆå¹¶ï¼š
```sh
yt-dlp -f "bestvideo+bestaudio" --merge-output-format mp4 "https://www.youtube.com/watch?v=VIDEO_ID"
```
- `--merge-output-format mp4`ï¼šå¼ºåˆ¶åˆå¹¶æˆ MP4 æ ¼å¼

---

## **5. é€‚ç”¨äºå…¶ä»–ç½‘ç«™**

`yt-dlp` æ”¯æŒè¶…è¿‡ 1000 ä¸ªç½‘ç«™ï¼Œå¦‚ï¼š
- **Bilibili**
- **Twitter/X**
- **Instagram**
- **Facebook**
- **TikTok**
- **Reddit**
- **SoundCloud**

ç¤ºä¾‹ï¼š
```sh
yt-dlp "https://www.bilibili.com/video/BV1xxxxxx"
```

---

## **6. ä¸‹è½½é™åˆ¶ä¸é€Ÿç‡æ§åˆ¶**

### **é™åˆ¶ä¸‹è½½é€Ÿåº¦**
```sh
yt-dlp --limit-rate 500K "https://www.youtube.com/watch?v=VIDEO_ID"
```
- `--limit-rate 500K`ï¼šé™åˆ¶ä¸‹è½½é€Ÿåº¦ä¸º 500KB/s

### **ä½¿ç”¨ä»£ç†**
```sh
yt-dlp --proxy "socks5://127.0.0.1:1080" "https://www.youtube.com/watch?v=VIDEO_ID"
```
- `--proxy`ï¼šä½¿ç”¨ SOCKS5 ä»£ç†ä¸‹è½½

---

## **7. é…ç½®æ–‡ä»¶**

ä¸ºäº†å‡å°‘æ¯æ¬¡è¾“å…¥å‘½ä»¤çš„éº»çƒ¦ï¼Œå¯ä»¥åœ¨ `~/.config/yt-dlp/config`ï¼ˆLinux/macOSï¼‰æˆ– `C:\Users\<ç”¨æˆ·å>\yt-dlp.conf`ï¼ˆWindowsï¼‰ä¸­å†™å…¥å¸¸ç”¨å‚æ•°ï¼Œä¾‹å¦‚ï¼š
```
-f best
-o ~/Downloads/%(title)s.%(ext)s
--merge-output-format mp4
--write-subs
--sub-lang en
```
è¿™æ ·ï¼Œæ¯æ¬¡åªéœ€è¿è¡Œï¼š
```sh
yt-dlp "https://www.youtube.com/watch?v=VIDEO_ID"
```
å°±èƒ½è‡ªåŠ¨ä½¿ç”¨è¿™äº›å‚æ•°ã€‚

---

## **8. å‚è€ƒé“¾æ¥**
- GitHub å®˜ç½‘ï¼š[https://github.com/yt-dlp/yt-dlp](https://github.com/yt-dlp/yt-dlp)
- æ”¯æŒçš„ç½‘ç«™åˆ—è¡¨ï¼š[https://github.com/yt-dlp/yt-dlp/blob/master/supportedsites.md](https://github.com/yt-dlp/yt-dlp/blob/master/supportedsites.md)

---

è¿™æ ·ï¼Œä½ å°±å¯ä»¥é«˜æ•ˆä½¿ç”¨ `yt-dlp` è¿›è¡Œè§†é¢‘ä¸‹è½½äº†ï¼ğŸ‰